<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Profile</title>
    <link rel="stylesheet" href="/css/profile.css" />
    <link rel="stylesheet" href="/css/navbar.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <script src="/JS/profile.js" defer></script>
  </head>
  <body>
    <nav>
      <ul>
        <li>
          <a href="/user/dashboard" class="logo">
            <img src="/images/platform.jpg" alt="" />
            <span class="nav-item">Platform</span>
          </a>
        </li>
        <li>
          <a href="/user/profile">
            <i class="bx bxs-user"></i>
            <span class="nav-item">Profile</span>
          </a>
        </li>
        <li>
          <a href="/user/status">
            <i class="bx bx-stats"></i>
            <span class="nav-item">Stats</span>
          </a>
        </li>
        <li>
          <a href="/" class="logout">
            <i class="bx bx-log-out"></i>
            <span id="logout" class="nav-item">Log Out</span>
          </a>
        </li>
      </ul>
    </nav>
    <div class="container">
      <div class="user-info">
        <p>User Name: <span><%- user.userName %></span></p>
        <p>Email: <span><%- user.email %></span></p>

        <button id="update-details">Update name</button>
      </div>
      <div class="profile-section">
        <img
          class="profile"
          src="/images/profiles/<%- user.profilePhoto %>"
          alt="Profile Picture"
        />
      </div>
      <div class="game-count">
        <p>No of Games Played : <span><%-totalGames%></span></p>
        <p>Games Won : <span><%-gamesWon%></span></p>
      </div>
    </div>
    <div class="container2">
      <div class="form">
        <form action="/user/updateDetails" method="post">
          <label>User Name : </label>
          <input
            id="name"
            type="text"
            name="userName"
            placeholder="Display Name"
          /><br />
          <label>Email : </label>
          <input
            id="email"
            type="text"
            name="email"
            placeholder="Email id"
            required
            disabled="true"
          /><br />
          <label>Password : </label>
          <input
            type="password"
            name="password"
            id="password"
            placeholder="Password"
            pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])(?=.*[0-9]).{8,}$"
            required
          /><br />
          <label>conform Password : </label>
          <input
            type="password"
            name="password"
            id="conformPassword"
            placeholder="Password"
            pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])(?=.*[0-9]).{8,}$"
            required
          /><br />
          <button type="submit">Submit</button>
        </form>
      </div>
      <div class="form">
        <form
          action="/user/updateProfile"
          enctype="multipart/form-data"
          method="post"
        >
          <label>update profile : </label>
          <input type="file" name="profilepic" /><br />
          <label>Password :</label>
          <input type="password" name="password" />
          <button type="submit">upload</button>
        </form>
      </div>
    </div>
  </body>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
  <script>
    const user = <%- JSON.stringify(user) %>;
  </script>
</html>
